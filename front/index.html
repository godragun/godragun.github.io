<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - Portfolio</title>
    <meta name="description" content="Harendra Thennakoon - Computer Engineering Student & Future Innovator">
    
    <!-- GitHub Pages compatibility -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' https: data: blob:;">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Welcome text in background -->
    <div class="welcome-text">WELCOME</div>
    
    <!-- Spline 3D viewer with GitHub Pages compatibility -->
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.64/build/spline-viewer.js"></script>
    <spline-viewer 
        url="https://prod.spline.design/r5mqQnNU3ofM85w7/scene.splinecode"
        loading="eager"
        style="width: 100%; height: 100vh; display: block; position: absolute; top: 0; left: 0; z-index: 2;"
        id="spline-viewer"
        crossorigin="anonymous"
        allow="camera; microphone; autoplay; encrypted-media;"
    ></spline-viewer>
    
    <!-- Alternative loading method for GitHub Pages -->
    <script>
        // Force load Spline viewer for GitHub Pages
        if (window.location.hostname.includes('github.io')) {
            document.addEventListener('DOMContentLoaded', function() {
                const script = document.createElement('script');
                script.type = 'module';
                script.src = 'https://unpkg.com/@splinetool/viewer@1.10.64/build/spline-viewer.js';
                script.onload = function() {
                    console.log('Spline viewer script loaded for GitHub Pages');
                };
                script.onerror = function() {
                    console.log('Spline viewer script failed to load on GitHub Pages');
                };
                document.head.appendChild(script);
            });
        }
    </script>
    
    <!-- Fallback 3D scene using Three.js -->
    <div id="fallback-3d" style="display: none; width: 100%; height: 100vh; position: absolute; top: 0; left: 0; z-index: 2;">
        <canvas id="three-canvas"></canvas>
    </div>
    
    <!-- Navigation -->
    <nav class="navigation">
        <ul>
            <li><a href="../index.html">Portfolio</a></li>
            <li><a href="../index.html#profile">Profile</a></li>
            <li><a href="../index.html#skills">Skills</a></li>
            <li><a href="../index.html#projects">Projects</a></li>
            <li><a href="../index.html#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Navigation JavaScript -->
    <script>
        // Enhanced navigation for front page
        document.addEventListener('DOMContentLoaded', function() {
            const navigationLinks = document.querySelectorAll('.navigation a');

            navigationLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // If it's a hash link (section navigation), handle it specially
                    if (this.getAttribute('href').includes('#')) {
                        e.preventDefault();
                        const href = this.getAttribute('href');

                        // Navigate to the main page with the hash
                        window.location.href = href;
                    }
                });
            });
        });
    </script>
    
    <!-- Scroll indicator -->
    <div class="scroll-indicator">
        <div class="scroll-arrow"></div>
        <div>Scroll Down</div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
